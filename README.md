<p align="center">
  <img src="spx_tracking_bot_banner.png" alt="SPX Tracking Bot Banner">
</p>

<h1 align="center">ğŸ¤– SPX Tracking Bot - Telegram ğŸ“¦</h1>

<p align="center">
  Má»™t chatbot Telegram giÃºp báº¡n theo dÃµi Ä‘Æ¡n hÃ ng Shopee Express (SPX) má»™t cÃ¡ch tá»± Ä‘á»™ng vÃ  tiá»‡n lá»£i. KhÃ´ng cÃ²n pháº£i má»Ÿ á»©ng dá»¥ng vÃ  gÃµ mÃ£ váº­n Ä‘Æ¡n má»—i ngÃ y!
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.10%2B-blue?logo=python&logoColor=white" alt="Python Version">
  <img src="https://img.shields.io/badge/Library-python--telegram--bot-blueviolet?logo=telegram" alt="Library">
  <img src="https://img.shields.io/badge/Database-SQLite-blue?logo=sqlite&logoColor=white" alt="Database">
  <img src="https://img.shields.io/badge/License-MIT-green" alt="License">
</p>

---

## ğŸ¯ Giá»›i thiá»‡u

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c sinh ra tá»« nhu cáº§u theo dÃµi cÃ¡c Ä‘Æ¡n hÃ ng Shopee má»™t cÃ¡ch tá»± Ä‘á»™ng. Thay vÃ¬ pháº£i truy cáº­p trang web `spx.vn` má»—i ngÃ y, con bot nÃ y sáº½ lÃ m Ä‘iá»u Ä‘Ã³ giÃºp báº¡n. NÃ³ sáº½ tá»± Ä‘á»™ng kiá»ƒm tra vÃ  gá»­i thÃ´ng bÃ¡o Ä‘áº¿n Telegram cá»§a báº¡n ngay khi cÃ³ tráº¡ng thÃ¡i váº­n chuyá»ƒn má»›i, giÃºp báº¡n tiáº¿t kiá»‡m thá»i gian vÃ  luÃ´n cáº­p nháº­t vá» hÃ nh trÃ¬nh Ä‘Æ¡n hÃ ng.

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh

* âœ… **Theo dÃµi tá»± Ä‘á»™ng:** Bot sáº½ kiá»ƒm tra Ä‘á»‹nh ká»³ cÃ¡c mÃ£ váº­n Ä‘Æ¡n báº¡n Ä‘Ã£ Ä‘Äƒng kÃ½.
* ğŸ”” **ThÃ´ng bÃ¡o tá»©c thÃ¬:** Gá»­i thÃ´ng bÃ¡o ngay khi cÃ³ cáº­p nháº­t tráº¡ng thÃ¡i má»›i.
* ğŸ“œ **Xem lá»‹ch sá»­ Ä‘áº§y Ä‘á»§:** Lá»‡nh `/history` cho phÃ©p xem toÃ n bá»™ hÃ nh trÃ¬nh cá»§a Ä‘Æ¡n hÃ ng tá»« lÃºc táº¡o Ä‘áº¿n khi giao.
* ğŸ“ˆ **Tra cá»©u tráº¡ng thÃ¡i nhanh:** Kiá»ƒm tra tráº¡ng thÃ¡i má»›i nháº¥t cá»§a báº¥t ká»³ Ä‘Æ¡n hÃ ng nÃ o vá»›i lá»‡nh `/status`.
* ğŸ—‘ï¸ **Quáº£n lÃ½ danh sÃ¡ch tiá»‡n lá»£i:** Dá»… dÃ ng thÃªm (`/track`), xÃ³a (`/untrack`), vÃ  xem danh sÃ¡ch (`/list`) cÃ¡c Ä‘Æ¡n hÃ ng Ä‘ang theo dÃµi.
* ğŸ‰ **Tá»± Ä‘á»™ng dá»n dáº¹p:** Bot sáº½ tá»± Ä‘á»™ng ngá»«ng theo dÃµi vÃ  thÃ´ng bÃ¡o cho báº¡n khi Ä‘Æ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c giao thÃ nh cÃ´ng.

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

* **NgÃ´n ngá»¯:** ğŸ Python 3.10+
* **ThÆ° viá»‡n Telegram:** ğŸ¤– `python-telegram-bot`
* **CÆ¡ sá»Ÿ dá»¯ liá»‡u:** ğŸ—ƒï¸ SQLite
* **Gá»i API:** ğŸŒ `requests`

---

## ğŸš€ CÃ i Ä‘áº·t vÃ  Khá»Ÿi cháº¡y

LÃ m theo cÃ¡c bÆ°á»›c sau Ä‘á»ƒ khá»Ÿi cháº¡y bot trÃªn mÃ¡y cá»§a báº¡n hoáº·c trÃªn server.

### **1. YÃªu cáº§u**

* **Python 3.10** trá»Ÿ lÃªn.
* Má»™t **Token cá»§a Telegram Bot**. Báº¡n cÃ³ thá»ƒ láº¥y nÃ³ tá»« [BotFather](https://t.me/BotFather).

### **2. CÃ¡c bÆ°á»›c cÃ i Ä‘áº·t**

1.  **Clone repository vá» mÃ¡y:**
    ```bash
    git clone https://github.com/giangcse/spx_tracking
    cd spx_tracking
    ```

2.  **Táº¡o vÃ  kÃ­ch hoáº¡t mÃ´i trÆ°á»ng áº£o** (khuyáº¿n khÃ­ch):
    * TrÃªn macOS/Linux:
        ```bash
        python3 -m venv .venv
        source .venv/bin/activate
        ```
    * TrÃªn Windows:
        ```bash
        python -m venv .venv
        .venv\Scripts\activate
        ```

3.  **CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n cáº§n thiáº¿t:**
    ```bash
    pip install -r requirements.txt
    ```
    *(Náº¿u báº¡n chÆ°a cÃ³ file `requirements.txt`, hÃ£y táº¡o nÃ³ vá»›i ná»™i dung bÃªn dÆ°á»›i)*

4.  **Cáº¥u hÃ¬nh Bot Token:**
    * Táº¡o file `.env`.
    * DÃ¡n **Bot Token** cá»§a báº¡n vÃ o biáº¿n `BOT_TOKEN`.
        ```python
        # .env
        BOT_TOKEN = "123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11" # Thay báº±ng token cá»§a báº¡n
        ```

5.  **Cháº¡y bot!**
    ```bash
    python main.py
    ```
    Bot cá»§a báº¡n bÃ¢y giá» Ä‘Ã£ sáºµn sÃ ng hoáº¡t Ä‘á»™ng.

---

## ğŸ“– CÃ¡ch sá»­ dá»¥ng

Sau khi khá»Ÿi cháº¡y bot, báº¡n cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i nÃ³ trÃªn Telegram báº±ng cÃ¡c lá»‡nh sau:

* `/start` - Hiá»ƒn thá»‹ tin nháº¯n chÃ o má»«ng vÃ  danh sÃ¡ch lá»‡nh.
* `/track <mÃ£_váº­n_Ä‘Æ¡n>` - Báº¯t Ä‘áº§u theo dÃµi má»™t mÃ£ váº­n Ä‘Æ¡n má»›i.
* `/untrack <mÃ£_váº­n_Ä‘Ã¶n>` - Ngá»«ng theo dÃµi má»™t mÃ£ váº­n Ä‘Æ¡n.
* `/status <mÃ£_váº­n_Ä‘Æ¡n>` - Xem tráº¡ng thÃ¡i má»›i nháº¥t cá»§a má»™t mÃ£ váº­n Ä‘Æ¡n.
* `/history <mÃ£_váº­n_Ä‘Æ¡n>` - Xem toÃ n bá»™ lá»™ trÃ¬nh cá»§a má»™t mÃ£ váº­n Ä‘Æ¡n.
* `/list` - Liá»‡t kÃª táº¥t cáº£ cÃ¡c mÃ£ báº¡n Ä‘ang theo dÃµi.

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c
```

spx\_tracker\_bot/
â”œâ”€â”€ .venv/                  \# ThÆ° má»¥c mÃ´i trÆ°á»ng áº£o
â”œâ”€â”€ main.py                 \# File chÃ­nh Ä‘á»ƒ cháº¡y bot
â”œâ”€â”€ config.py               \# LÆ°u trá»¯ token vÃ  cÃ¡c cáº¥u hÃ¬nh
â”œâ”€â”€ database.py             \# Quáº£n lÃ½ má»i thá»© vá» database
â”œâ”€â”€ spx\_service.py          \# Xá»­ lÃ½ logic riÃªng cá»§a SPX (gá»i API, Ä‘á»‹nh dáº¡ng)
â””â”€â”€ bot\_handlers.py         \# Chá»©a cÃ¡c hÃ m xá»­ lÃ½ lá»‡nh cá»§a bot

```

---

## âš™ï¸ Cháº¡y bot nhÆ° má»™t Service trÃªn Linux (Production)

Äá»ƒ Ä‘áº£m báº£o bot hoáº¡t Ä‘á»™ng 24/7 vÃ  tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng láº¡i khi server reboot, báº¡n nÃªn cháº¡y nÃ³ nhÆ° má»™t service cá»§a `systemd`.

### **1. Táº¡o file Service**

Táº¡o má»™t file service má»›i báº±ng trÃ¬nh soáº¡n tháº£o yÃªu thÃ­ch cá»§a báº¡n (vÃ­ dá»¥: `nano`):

```bash
sudo nano /etc/systemd/system/spx_bot.service
````

### **2. DÃ¡n ná»™i dung vÃ o file Service**

DÃ¡n toÃ n bá»™ ná»™i dung dÆ°á»›i Ä‘Ã¢y vÃ o file báº¡n vá»«a táº¡o.

**LÆ°u Ã½:** Báº¡n cáº§n thay Ä‘á»•i `your_username` vÃ  `/path/to/your/project` cho phÃ¹ há»£p vá»›i há»‡ thá»‘ng cá»§a báº¡n.

```ini
[Unit]
Description=SPX Tracking Telegram Bot
After=network.target

[Service]
# Thay "your_username" báº±ng username báº¡n dÃ¹ng Ä‘á»ƒ cháº¡y bot
User=your_username
Group=your_username

# Thay "/path/to/your/project" báº±ng Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i Ä‘áº¿n thÆ° má»¥c dá»± Ã¡n
WorkingDirectory=/path/to/your/project
ExecStart=/path/to/your/project/.venv/bin/python main.py

Restart=on-failure
RestartSec=5s

[Install]
WantedBy=multi-user.target
```

**CÃ¡ch tÃ¬m Ä‘Æ°á»ng dáº«n chÃ­nh xÃ¡c:**

  * Äá»ƒ tÃ¬m `WorkingDirectory`, Ä‘i tá»›i thÆ° má»¥c dá»± Ã¡n vÃ  gÃµ lá»‡nh `pwd`.
  * Äá»ƒ tÃ¬m `ExecStart`, Ä‘i tá»›i thÆ° má»¥c dá»± Ã¡n, kÃ­ch hoáº¡t mÃ´i trÆ°á»ng áº£o (`source .venv/bin/activate`) vÃ  gÃµ lá»‡nh `which python`.

### **3. Quáº£n lÃ½ Service**

Sau khi Ä‘Ã£ lÆ°u file, hÃ£y sá»­ dá»¥ng cÃ¡c lá»‡nh sau Ä‘á»ƒ quáº£n lÃ½ service cá»§a báº¡n:

1.  **Táº£i láº¡i `systemd` Ä‘á»ƒ nháº­n diá»‡n service má»›i:**

    ```bash
    sudo systemctl daemon-reload
    ```

2.  **KÃ­ch hoáº¡t service Ä‘á»ƒ tá»± cháº¡y khi khá»Ÿi Ä‘á»™ng:**

    ```bash
    sudo systemctl enable spx_bot.service
    ```

3.  **Báº¯t Ä‘áº§u service ngay láº­p tá»©c:**

    ```bash
    sudo systemctl start spx_bot.service
    ```

4.  **Kiá»ƒm tra tráº¡ng thÃ¡i cá»§a service:**

    ```bash
    sudo systemctl status spx_bot.service
    ```

    (Nháº¥n `q` Ä‘á»ƒ thoÃ¡t)

5.  **Xem logs (nháº­t kÃ½) cá»§a bot:**
    Lá»‡nh nÃ y ráº¥t há»¯u Ã­ch Ä‘á»ƒ debug lá»—i.

    ```bash
    journalctl -u spx_bot -f
    ```

    (Nháº¥n `Ctrl + C` Ä‘á»ƒ thoÃ¡t)

BÃ¢y giá» bot cá»§a báº¡n Ä‘Ã£ cháº¡y nhÆ° má»™t tiáº¿n trÃ¬nh ná»n á»•n Ä‘á»‹nh trÃªn server.
---

## ğŸ“„ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c cáº¥p phÃ©p theo **MIT License**. Xem file `LICENSE` Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.
